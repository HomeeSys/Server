syntax = "proto3";

option csharp_namespace = "Devices.GRPCClient";

package devices;

service DevicesService {
	rpc GetDeviceByDeviceNumber (DeviceRequest) returns (GrpcDeviceModel);
	rpc GetAllDevices (DeviceAllRequest) returns (stream GrpcDeviceModel);
    rpc GetAllLocations (LocationAllRequest) returns (stream GrpcLocationModel);
    rpc GetLocationByName (LocationByNameRequest) returns (GrpcLocationModel);
}

message LocationByNameRequest{
    string name = 1;
}

message LocationAllRequest{

}

message DeviceAllRequest{

}

message DeviceRequest{
	string device_number = 1;
}

message GrpcLocationModel {
	int32 id = 1;
	string name = 2;
    string hash = 3;
}

message GrpcTimestampConfigurationModel {
	int32 id = 1;
	string cron = 2;
}

message GrpcMeasurementConfiguration {
	int32 id = 1;
    bool temperature = 2;
    bool humidity = 3;
    bool carbon_dioxide = 4;
    bool volatile_organic_compounds = 5;
    bool pm1 = 6;
    bool pm25 = 7;
    bool pm10 = 8;
    bool formaldehyde= 9;
    bool carbon_monoxide = 10;
    bool ozone = 11;
    bool ammonia = 12;
    bool airflow = 13;
    bool air_ionization_level = 14;
    bool oxygen = 15;
    bool radon = 16;
    bool illuminance = 17;
    bool sound_level = 18;
}

message GrpcStatusModel {
	int32 id = 1;
	string type = 2;
}

message GrpcDeviceModel {
    int32 id = 1;
    string device_number = 2;
    string register_date = 3;
    string name = 4;

    //  Location
    int32 location_id = 5;
    GrpcLocationModel location = 6;

    //  Timestamp configuration
    int32 timestamp_configuration_id = 7;
    GrpcTimestampConfigurationModel timestamp_configuration = 8;

    //	Status
    int32 status_id = 9;
    GrpcStatusModel status = 10;

    //  Measurement configuration
    int32 measurement_configuration_id = 11;
    GrpcMeasurementConfiguration measurement_configuration = 12;
}